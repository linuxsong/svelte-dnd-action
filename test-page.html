<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>svelte-dnd-action Test - useCursorForDetection</title>
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
                background: #1a1a2e;
                color: #fff;
                padding: 40px;
                min-height: 100vh;
            }

            h1 {
                margin-bottom: 10px;
                color: #eee;
            }

            .description {
                color: #888;
                margin-bottom: 30px;
                font-size: 14px;
            }

            .container {
                display: flex;
                gap: 60px;
            }

            .section {
                flex: 1;
            }

            .section h2 {
                font-size: 16px;
                margin-bottom: 15px;
                color: #aaa;
            }

            /* Cards (large draggable items) */
            .card-list {
                display: flex;
                flex-direction: column;
                gap: 10px;
                min-height: 300px;
                padding: 15px;
                background: #252542;
                border-radius: 12px;
            }

            .card {
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 8px;
                cursor: grab;
                font-weight: 600;
                font-size: 14px;
                transition: transform 0.2s, box-shadow 0.2s;
            }

            .card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            }

            /* Folders (small drop targets) */
            .folder-list {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }

            .folder {
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px 15px;
                background: #252542;
                border-radius: 8px;
                cursor: pointer;
                font-size: 14px;
                transition: background 0.2s;
                position: relative;
            }

            .folder:hover,
            .folder.drag-over {
                background: #3a3a5c;
            }

            .folder-icon {
                font-size: 18px;
            }

            .folder-drop-zone {
                position: absolute;
                inset: 0;
                border-radius: 8px;
            }

            .folder-drop-zone.active {
                outline: 2px solid #667eea;
                outline-offset: 2px;
            }

            /* Status indicator */
            .status {
                margin-top: 20px;
                padding: 15px;
                background: #252542;
                border-radius: 8px;
                font-size: 13px;
                color: #888;
            }

            .status-item {
                margin-bottom: 8px;
            }

            .status-label {
                color: #666;
            }

            .status-value {
                color: #667eea;
                font-weight: 600;
            }

            /* Test scenarios */
            .test-info {
                margin-top: 40px;
                padding: 20px;
                background: #252542;
                border-radius: 12px;
            }

            .test-info h3 {
                font-size: 14px;
                margin-bottom: 15px;
                color: #aaa;
            }

            .test-case {
                margin-bottom: 15px;
                padding: 12px;
                background: #1a1a2e;
                border-radius: 8px;
                font-size: 13px;
            }

            .test-case strong {
                color: #667eea;
            }

            .test-case p {
                color: #888;
                margin-top: 5px;
            }
        </style>
    </head>
    <body>
        <h1>ğŸ§ª useCursorForDetection Test</h1>
        <p class="description">æµ‹è¯• useCursorForDetection é€‰é¡¹ï¼šä½¿ç”¨å…‰æ ‡ä½ç½®è¿›è¡Œç¢°æ’æ£€æµ‹ï¼Œè€Œä¸æ˜¯æ‹–æ‹½å…ƒç´ çš„ä¸­å¿ƒ</p>

        <div class="container">
            <div class="section">
                <h2>ğŸ“¦ Cards (å¤§å¡ç‰‡)</h2>
                <div class="card-list" id="card-list">
                    <div class="card" draggable="true" data-id="1">Card 1 - æ‹–åŠ¨æˆ‘åˆ°å³è¾¹çš„æ–‡ä»¶å¤¹</div>
                    <div class="card" draggable="true" data-id="2">Card 2 - æµ‹è¯•æœ€åä¸€ä¸ªæ–‡ä»¶å¤¹</div>
                    <div class="card" draggable="true" data-id="3">Card 3 - è§‚å¯Ÿæ£€æµ‹æ˜¯å¦ç¨³å®š</div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ“ Folders (å°ç›®æ ‡)</h2>
                <div class="folder-list" id="folder-list">
                    <div class="folder" data-folder="work">
                        <span class="folder-icon">ğŸ“‚</span>
                        <span>Work</span>
                    </div>
                    <div class="folder" data-folder="personal">
                        <span class="folder-icon">ğŸ“‚</span>
                        <span>Personal</span>
                    </div>
                    <div class="folder" data-folder="archive">
                        <span class="folder-icon">ğŸ“‚</span>
                        <span>Archive</span>
                    </div>
                    <div class="folder" data-folder="last">
                        <span class="folder-icon">ğŸ“‚</span>
                        <span>Last Folder (é‡ç‚¹æµ‹è¯•)</span>
                    </div>
                </div>

                <div class="status" id="status">
                    <div class="status-item">
                        <span class="status-label">å½“å‰æ‹–æ‹½:</span>
                        <span class="status-value" id="dragging">æ— </span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">æ‚¬åœç›®æ ‡:</span>
                        <span class="status-value" id="hovering">æ— </span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">æœ€åæ”¾ç½®:</span>
                        <span class="status-value" id="dropped">æ— </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-info">
            <h3>ğŸ“‹ æµ‹è¯•è¦ç‚¹</h3>
            <div class="test-case">
                <strong>1. æœ€åæ–‡ä»¶å¤¹æ£€æµ‹</strong>
                <p>æ‹–åŠ¨å¡ç‰‡åˆ° "Last Folder"ï¼Œæ£€æµ‹åº”è¯¥ç¨³å®šï¼Œä¸ä¼šé—´æ­‡æ€§ä¸¢å¤±</p>
            </div>
            <div class="test-case">
                <strong>2. å…‰æ ‡ä½ç½®æ£€æµ‹</strong>
                <p>å³ä½¿å¡ç‰‡å¾ˆå¤§ï¼Œåªè¦å…‰æ ‡åœ¨æ–‡ä»¶å¤¹åŒºåŸŸå†…ï¼Œå°±åº”è¯¥è¢«æ£€æµ‹åˆ°</p>
            </div>
            <div class="test-case">
                <strong>3. å¡ç‰‡ä¸è·³åŠ¨</strong>
                <p>æ‹–åŠ¨æ—¶å¡ç‰‡åº”è¯¥ä¿æŒåŸå§‹ä½ç½®ç›¸å¯¹äºå…‰æ ‡ï¼Œä¸åº”è·³åˆ°å…‰æ ‡ä¸­å¿ƒ</p>
            </div>
        </div>

        <script>
            // Simple drag and drop simulation (ä¸ä½¿ç”¨ svelte-dnd-action)
            // è¿™åªæ˜¯ä¸€ä¸ªè§†è§‰æµ‹è¯•é¡µé¢

            const cards = document.querySelectorAll(".card");
            const folders = document.querySelectorAll(".folder");
            const draggingEl = document.getElementById("dragging");
            const hoveringEl = document.getElementById("hovering");
            const droppedEl = document.getElementById("dropped");

            let currentDragging = null;

            cards.forEach(card => {
                card.addEventListener("dragstart", e => {
                    currentDragging = card.textContent.split(" - ")[0];
                    draggingEl.textContent = currentDragging;
                    card.style.opacity = "0.5";
                });

                card.addEventListener("dragend", e => {
                    card.style.opacity = "1";
                    currentDragging = null;
                    draggingEl.textContent = "æ— ";
                    hoveringEl.textContent = "æ— ";
                    folders.forEach(f => f.classList.remove("drag-over"));
                });
            });

            folders.forEach(folder => {
                folder.addEventListener("dragover", e => {
                    e.preventDefault();
                    folder.classList.add("drag-over");
                    hoveringEl.textContent = folder.dataset.folder;
                });

                folder.addEventListener("dragleave", e => {
                    folder.classList.remove("drag-over");
                    if (!e.relatedTarget || !folder.contains(e.relatedTarget)) {
                        hoveringEl.textContent = "æ— ";
                    }
                });

                folder.addEventListener("drop", e => {
                    e.preventDefault();
                    folder.classList.remove("drag-over");
                    droppedEl.textContent = `${currentDragging} â†’ ${folder.dataset.folder}`;
                });
            });
        </script>

        <p style="margin-top: 40px; color: #666; font-size: 12px">
            âš ï¸ è¿™æ˜¯ä¸€ä¸ªç®€å•çš„åŸç”Ÿ HTML æµ‹è¯•é¡µé¢ã€‚è¦æµ‹è¯•å®Œæ•´çš„ svelte-dnd-action åŠŸèƒ½ï¼Œ<br />
            è¯·åœ¨ chrome-cmp æ‰©å±•çš„ Options é¡µé¢ä¸­æµ‹è¯•æ‹–æ‹½å¡ç‰‡åˆ°æ–‡ä»¶å¤¹çš„åŠŸèƒ½ã€‚
        </p>
    </body>
</html>
